{% extends '@Publication/publicationLayout.html.twig' %}

{% block content %}
    <div class="w3-black w3-opacity-min w3-padding-16 min-height-100" id="home">
        <div class="w3-container">

            <div class="w3-padding-16 w3-center">
                <h2>{{ 'title.publication'|trans }}</h2>
            </div>

            {% if publications|length == 0 %}

                <div class="w3-card-2 w3-display-container w3-margin-bottom" style="transition:0.5s;width:100%">

                    <p>Vous avez actuellement un abonnement avec l'ensemble des publication UNAMAG.</p>
                    <a href="{{ path('subscription_homepage') }}" class="w3-button w3-green">Parcourir vos abonnements</a>

                </div>

            {% else %}
                {% for publication in publications %}
                        <div class="w3-card-2 w3-display-container w3-margin-bottom" style="transition:0.5s;width:100%">
                            <div class="w3-hover-green w3-hover-opacity">
                                <img src="data:image/jpeg;base64,{{ publication.picture }}" alt="Pants" style="width:100%">
                            </div>
                            <div class="w3-display-topleft w3-display-hover w3-large">
                                <button type="button" class="w3-white w3-animate-opacity w3-btn w3-margin w3-round" title="Nombre d'abonnés"><i class="fa fa-user w3-text-green"></i> {{ publication.subscription|length }}</button>
                            </div>
                            <div class="w3-display-topright w3-display-hover w3-large">
                                <button type="button" class="w3-white w3-animate-opacity w3-btn w3-margin w3-round" title="S'abonner"><i class="fa fa-shopping-cart w3-text-grey"></i> {{ publication.annualCost }}€</button>
                            </div>
                            <div class="w3-display-bottomleft w3-display-hover w3-large w3-text-white">
                                <button type="button" class="w3-white w3-animate-opacity w3-btn w3-margin w3-round" title="Titre">{{ publication.title }}</button>
                            </div>
                            <div class="w3-display-middle w3-display-hover w3-large">
                                <a href="{{ path('publication_show', { 'id': publication.id }) }}" class="w3-button w3-round w3-green w3-animate-opacity w3-btn w3-round">En savoir plus</a>
                            </div>
                        </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>

{% endblock %}
